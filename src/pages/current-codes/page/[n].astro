---
import type { Models } from 'node-appwrite';
import Layout from '../../../layouts/Layout.astro';
import type { Code } from '../../../types';
import Pagination from '../../../components/Pagination.astro';
import CodesWrapper from '../../../components/CodesWrapper.astro';
import { getCodes } from '../../../appwrite';
export const prerender = false;

const pageNumber = Astro.params.n ?? 1;
const codes = (await getCodes(
  +(Astro.params.n ?? '0')
)) as Models.DocumentList<Code>;
---

<Layout title="Codes">
  <CodesWrapper {codes} />
  <Pagination currentPage={+pageNumber} />
</Layout>
