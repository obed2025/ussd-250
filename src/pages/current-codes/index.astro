---
import type { Models } from 'node-appwrite';
import Layout from '../../layouts/Layout.astro';
import type { Code } from '../../types';
import Pagination from '../../components/Pagination.astro';
import CodesWrapper from '../../components/CodesWrapper.astro';
export const prerender = false;

const res = await fetch(new URL('/api/codes', Astro.url.origin));
const codes: Models.DocumentList<Code> = await res.json();
---

<Layout title="Codes">
  <CodesWrapper {codes} />
  <Pagination />
</Layout>
