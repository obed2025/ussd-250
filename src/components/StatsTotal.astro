---
import { getAirtelCodes, getCodes, getMTNCodes } from '../appwrite';

interface Props {
  network?: 'mtn' | 'airtel';
}

const { network } = Astro.props;

const total: number = await (async () => {
  if (network === 'airtel') return (await getAirtelCodes()).total;
  else if (network === 'mtn') return (await getMTNCodes()).total;
  else return (await getCodes()).total;
})();
---

{total > 99 ? `99+` : total}
